<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subsidi Tepat LPG - NIK Data Input</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>🏠 Subsidi Tepat LPG Automation</h1>
            <p>Input NIK numbers for automated processing</p>
        </div>

        <form id="nikForm">
            <div class="form-group">
                <label for="username">Email/Username</label>
                <div class="input-info">
                    <strong>🔐 Login Credentials:</strong>
                    <p>Enter your Subsidi Tepat LPG merchant account credentials.</p>
                    <p><strong>⚠️ Security Note:</strong> Credentials are used only for this session and are not stored.</p>
                </div>
                <input type="text" id="username" name="username" placeholder="Enter your email/phone" required>

                <label for="password">Password</label>
                <input type="password" id="password" name="password" placeholder="Enter your password" required>

                <label for="limiter">Limit</label>
                <div class="input-info">
                    <strong>ℹ️ Optional:</strong>
                    <p>Set a limit for the number of NIKs to process. Default is max your input.</p>
                    <p>Note: If you set a limit, only the first NIKs up to that limit will be processed.</p>
                </div>
                <input type="number" id="limiter" name="limiter" placeholder="Enter limit (optional)">

                <label for="nikData">NIK Numbers Input</label>
                <div class="input-info">
                    <strong>📝 Input Format:</strong>
                    <ul>
                        <li>Separate NIK numbers with: <strong>Enter, Comma (,), Space, or Semicolon (;)</strong></li>
                        <li>Each NIK must be exactly 16 digits</li>
                        <li>Invalid NIKs will be automatically filtered out</li>
                    </ul>
                </div>
                <textarea id="nikData" name="nikData" placeholder="Example:
3215XXXXXXXXXX01
3215XXXXXXXXXX03, 3215XXXXXXXXXX05
3215XXXXXXXXXX02; 3215XXXXXXXXXX03
3215XXXXXXXXXX05 3215XXXXXXXXXX06" required></textarea>
            </div>

            <div class="btn-group">
                <button type="button" id="previewBtn" class="btn-secondary">
                    👁️ Preview NIKs
                </button>
                <button type="submit" id="submitBtn" class="btn-primary">
                    🚀 Start Automation
                </button>
                <button type="button" id="resetBtn" class="btn-danger" style="display: none;" onclick="resetAutomation()">
                    🔄 Reset
                </button>
            </div>
        </form>

        <div id="preview" class="preview" style="display: none;">
            <h4>📋 Parsed NIK Numbers:</h4>
            <div id="nikList" class="nik-list"></div>
            <p id="nikCount" style="margin-top: 10px; font-weight: 600;"></p>
        </div>

        <div id="sessionInfo" class="session-info" style="display: none;">
            <h4>🔗 Session Information:</h4>
            <p><strong>Session ID:</strong> <span id="sessionId"></span></p>
            <p><strong>Status:</strong> <span id="sessionStatus"></span></p>
        </div>

        <div id="loading" class="loading">
            <div class="spinner"></div>
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <p id="loadingText">🔄 Processing automation...</p>
        </div>

        <div id="status" class="status"></div>
    </div>

    <script src="./script.js" type="text/javascript"></script>
</body>

</html>